input {
  beats {
    port => 5044
  }
}

filter {
  if [@timestamp] < "2025-05-20T00:00:00" {
    drop {}
  }
}

output {
  rabbitmq {
    host          => "127.0.0.1"
    port          => 5672
    user          => "guest"
    password      => "guest"
    vhost         => "/"
    exchange      => "app_logs_exchange"
    exchange_type => "direct"
    key           => "logs_1"
    persistent    => true
    heartbeat     => 30
  }
}